<ion-navbar primary>
  <ion-title>维修反馈记录({{tasks.length}}/{{allTasks.length}})</ion-title>
  <ion-buttons end>
    <button large (click)="presentPopover($event)" [disabled]="isLoading || allTasks.length == 0"> 
        <ion-icon name="more"></ion-icon>
      </button>
  </ion-buttons>  
</ion-navbar>
<ion-toolbar text-center class='condition-toolbar'>
  <div style="">{{condition.road}} , {{condition.direction}} , {{condition.dateOrder}} , {{condition.stakeOrder}}</div>
</ion-toolbar>
<ion-content>
  <ion-refresher (ionRefresh)="query($event)">
    <ion-refresher-content pullingText="下拉刷新" refreshingText="查询维修任务..."></ion-refresher-content>
  </ion-refresher>
  <h3 [hidden]="tasks.length>0 || isLoading" text-center gray>没有维修任务!</h3>
  <ion-list>
    <button ion-item *ngFor="let item of tasks let ix = index" (click)="maintain(item)" style="padding-left:0">
      <span item-left class="sn">{{ix+1}}.</span>
      <div>
        <strong class="caseid">{{item.caseID}}<span class='taskdate'>{{item.gongchengWeizhi}}</span>  </strong><br>
        {{item.weixiuItem}} / {{item.yanghuXiangmu}}<br>
        <p>要求维修期限:{{item.AskFinsihedTime}}</p>
      </div>
    </button>
  </ion-list>
</ion-content>